# Claude Code チュートリアル - プロンプトエンジニアリング実践編 📚

Anthropic公式チュートリアルから学ぶ、**実践的なプロンプトパターン集**です。各パターンは実際の開発ワークフローで即座に活用できます。

> **寺子屋ポイント**: このチュートリアルは、プロンプトエンジニアリングの理論を実践に転換する貴重な教材です。特に「具体的な状況 + 明確な指示 + 期待する結果」のパターンが随所に見られます。

## 🎯 学習価値の高いプロンプトパターン

### 1. 状況設定 + タスク指定パターン

**使用例: 新しいコードベースの理解**
```bash
# ❌ 悪い例
「このコードを説明して」

# ✅ 良い例（チュートリアルから）
「新しいプロジェクトに参加し、その構造を素早く理解する必要がある場合」
→ 「このプロジェクトの全体的なアーキテクチャを説明してください。主要なコンポーネントとその相互作用について教えてください」
```

**寺子屋解説**: 
- **状況設定**: 「新しいプロジェクトに参加」
- **目的明確化**: 「構造を素早く理解」
- **具体的タスク**: 「アーキテクチャとコンポーネントの説明」

### 2. 段階的探索パターン

**チュートリアルの秀逸なワークフロー**:
```bash
# Step 1: 高レベル概要
「このプロジェクトの全体的なアーキテクチャを説明してください」

# Step 2: 詳細探索  
「認証システムはどのように実装されていますか？」

# Step 3: 関連コード発見
「ユーザー認証に関連するすべてのファイルを見つけてください」

# Step 4: 実行フロー理解
「ログインからセッション管理までの処理フローを説明してください」
```

**プロンプトエンジニアリング原則**:
- 📐 **構造化された質問**: 広範囲から具体的へ
- 🔍 **段階的絞り込み**: 情報を層化して取得
- 🔗 **関連性重視**: コンポーネント間の相互作用を明確化

## 🐛 バグ修正でのプロンプト戦略

### エラー診断の効果的パターン

**チュートリアルから学ぶベストプラクティス**:
```bash
# 📋 コンテキスト + エラー情報 + 期待する解決
「以下のエラーメッセージに遭遇しました:
[エラーメッセージ]

再現手順:
1. [具体的な手順]
2. [具体的な手順]

このエラーの原因を特定し、修正方法を提案してください。
可能であれば、同様の問題を防ぐための改善案も含めてください。」
```

**🎵 REIAプロジェクト応用例**:
```bash
「SUNO AI向けの歌詞生成で以下の問題が発生しています:

エラー: 歌詞の構造が[Verse][Chorus]形式で出力されない
期待: [Verse1][Chorus][Verse2][Chorus][Bridge][Chorus]の構造

歌詞制作に使用した指示:
[指示内容]

この問題を解決し、今後一貫した構造で歌詞が生成されるよう改善してください。」
```

## 🔧 リファクタリングのプロンプト設計

### レガシーコード改善の戦略的アプローチ

**チュートリアルのパターン**:
```bash
# 🔍 現状分析 + 改善目標 + 制約条件
「このレガシーコードを最新のベストプラクティスに従ってリファクタリングしてください:

[対象コード]

要件:
- 既存の機能を維持
- パフォーマンスを向上
- 可読性を改善
- 後方互換性を維持

段階的なリファクタリング計画を提示し、各ステップでのテスト方法も含めてください。」
```

**🎼 音楽制作ツール開発での応用**:
```bash
「楽曲メタデータ管理システムをモダンな実装に更新したいです:

現在のコード:
[レガシーコード]

改善目標:
- TypeScript化
- データベース操作の最適化  
- REIAプロジェクト特有のフィールド対応
- 楽曲検索機能の高速化

段階的な移行計画と、既存の楽曲データへの影響評価を含めて提案してください。」
```

## 🧪 テスト戦略のプロンプトパターン

### 包括的テストカバレッジの設計

**効果的なテスト生成指示**:
```bash
# 📋 対象機能 + テストタイプ + エッジケース
「以下の機能にテストカバレッジを追加してください:

[対象コード]

必要なテスト:
- 正常系のテスト
- 異常系のテスト（エラーハンドリング）
- エッジケース（境界値、null、undefined）
- 統合テスト（外部サービス連携）

各テストケースには、テストの意図と期待される結果を明確に記載してください。」
```

## 📝 ドキュメント生成の洗練されたパターン

### 自己説明的コードとドキュメントの作成

**チュートリアルの推奨アプローチ**:
```bash
# 🎯 ドキュメント対象 + スタイル + 対象読者
「以下のコードにJSDocドキュメントを追加してください:

[対象コード]

要件:
- 各関数の目的と動作を明確に記述
- パラメータと戻り値の型と意味を説明
- 使用例を含める
- 潜在的な例外やエラーケースを記載
- 新しいチームメンバーが理解しやすい表現を使用

ドキュメントスタイル: JSDoc形式
対象読者: 中級レベルの開発者」
```

## 🖼️ 画像活用でのプロンプト強化

### ビジュアルコンテキストの効果的利用

**マルチモーダルプロンプトの実践**:
```bash
# 🖼️ 画像 + 具体的な要求 + 出力形式
「添付したUIモックアップを基に、Reactコンポーネントを実装してください:

[画像: UIモックアップ]

要件:
- TypeScriptで実装
- Tailwind CSSでスタイリング
- レスポンシブデザイン対応
- アクセシビリティ配慮（ARIA属性）
- プロップスの型定義を含める

コンポーネント名: MusicPlayerWidget
用途: REIAの楽曲プレイヤー機能」
```

## 🤔 拡張思考モードの戦略的活用

### 複雑な問題解決のためのthinkプロンプト

**段階的思考誘導パターン**:
```bash
# 🧠 複雑さレベル別のthink指示
「この認証システムのアーキテクチャ問題を分析してください:

[問題の詳細]

以下の観点でthink harderを使用して検討してください:
1. セキュリティ面での脆弱性
2. スケーラビリティの課題
3. ユーザー体験への影響
4. 実装コストと技術的負債
5. 既存システムとの統合リスク

複数の解決策を比較検討し、推奨アプローチとその理由を提示してください。」
```

## ⚙️ MCPとカスタムコマンドの活用

### 再利用可能なプロンプトテンプレートの設計

**カスタムスラッシュコマンドの例**:

**.claude/commands/reia-lyrics.md**:
```markdown
REIA楽曲用の歌詞を生成してください。

テーマ: $ARGUMENTS

要件:
- [Verse1][Chorus][Verse2][Chorus][Bridge][Chorus]構造
- SUNO AI最適化（韻律、繰り返し）
- 感情豊かで印象的なフック
- アメリカンポップス風の表現
- 各パート4-8行
- 英語歌詞（必要に応じて日本語訳も）

楽曲メタデータも含めて:
- 推奨BPM
- キー
- ジャンル
- ムード
```

**使用方法**:
```bash
/project:reia-lyrics "失恋から立ち直る力強さ"
```

## 🔄 継続的改善のプロンプトパターン

### セッション管理と作業効率化

**効果的な作業継続パターン**:
```bash
# 🕐 作業終了時
「今日の作業内容を以下の形式で要約してください:

## 完了したタスク
- [具体的な成果]

## 残課題
- [次回継続すべき内容]

## 注意点
- [引き継ぎ事項]

## 次回の作業計画
- [優先順位付きのタスクリスト]」

# 🌅 作業開始時
claude --continue
「昨日の作業要約を確認し、今日の最優先タスクを教えてください」
```

## 🎯 プロンプト品質向上のチェックリスト

### チュートリアルから抽出したベストプラクティス

**効果的なプロンプトの5要素**:

1. **📋 コンテキスト設定**
   - 現在の状況を明確に記述
   - 作業の背景と目的を説明

2. **🎯 具体的タスク指定**
   - 何を求めているかを明確化
   - 期待する出力形式を指定

3. **⚠️ 制約条件の明示**
   - NEVER/YOU MUST/IMPORTANTの使い分け
   - 技術的制約や要件の明記

4. **📊 検証可能な成果定義**
   - 成功の基準を明確化
   - テスト方法や確認手順を含める

5. **🔗 関連情報の提供**
   - 必要なファイルやリソースを特定
   - 依存関係や影響範囲を明示

## 💡 REIAプロジェクト特化の応用パターン

### 音楽制作ワークフローでの実践例

**楽曲制作プロジェクト管理**:
```bash
「REIAの新曲プロジェクトを管理するタスクボードを作成してください:

プロジェクト情報:
- 楽曲名: [楽曲名]  
- ジャンル: [ジャンル]
- リリース予定: [日付]

必要なタスク:
1. 歌詞制作
2. SUNO AI生成
3. 音響調整
4. アートワーク
5. 配信準備

各タスクに以下を含めてください:
- 担当者
- 期限
- 依存関係
- 完了基準
- 必要なファイル/リソース」
```

**音楽技術的な分析タスク**:
```bash
「この楽曲の音響特性を分析し、SUNO AI再生成時の改善提案をしてください:

楽曲ファイル: [ファイルパス]
現在の問題点: [具体的な問題]

分析項目:
- 周波数バランス
- ダイナミクスレンジ  
- 空間定位
- 楽器バランス
- ボーカル明瞭度

SUNO AIプロンプト改善案と、期待される音響変化も含めて報告してください。」
```

## 🔄 学習の継続と発展

### 次のステップ

1. **基本パターンの習得**: チュートリアルの各パターンを実際のプロジェクトで試用
2. **カスタマイズ**: 自分の開発スタイルに合わせたプロンプトテンプレート作成
3. **チーム共有**: 効果的なパターンをCLAUDE.mdやカスタムコマンドで標準化
4. **継続改善**: 結果を評価し、プロンプトの精度を継続的に向上

### 関連リソース

- **理論編**: [プロンプト寺子屋 第1章](./README.md#第1章-基本的なプロンプト構造)
- **Claude Code基礎**: [Claude Code完全ガイド](./claude-code-guide.md)
- **実践応用**: [CLAUDE.md実践ガイド](./claude-code-claude-md-practice.md)

---

*参考: [Anthropic公式チュートリアル](https://docs.anthropic.com/ja/docs/claude-code/tutorials)*

*最終更新: 2025年6月9日*

## 💬 学習のポイント

このチュートリアルの最大の価値は、**「実際の開発場面で即座に使えるプロンプトパターン」**が体系化されていることです。理論的なプロンプトエンジニアリングから、実践的な開発ワークフローへの橋渡し役となる貴重な教材として活用してください。

特に、各パターンでの**「使用するタイミング」**の明記は、状況判断力の向上に直結します。これらのパターンを習得することで、Claude Codeとの協働効率が大幅に向上するはずです。